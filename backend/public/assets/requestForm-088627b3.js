import{R as y}from"./RequestService-283f3482.js";import{U as I}from"./UserService-cd24aee0.js";import{_ as w,r as u,u as R,o as U,a as p,b as f,c as g,e as o,d as l,t as B,j as C,p as F,h as N}from"./index-709fa06a.js";const i=a=>(F("data-v-6acf13e7"),a=a(),N(),a),T={class:"p-fluid"},E={class:"p-field p-grid"},D=i(()=>o("h2",null,[o("strong",null,"의뢰 작성")],-1)),M=i(()=>o("label",{for:"title"},"제목",-1)),j={class:"p-field p-grid"},P=i(()=>o("label",{for:"content"},"내용",-1)),$={class:"p-field p-grid"},z=i(()=>o("label",{for:"points"},"포인트",-1)),A={class:"button-group"},G={key:0},H={__name:"requestForm",setup(a){const r=u(null),h=R(),x=localStorage.getItem("token"),V=new y,k=new I,e=u({title:"",content:"",points:""}),q=async()=>{try{e.points>r.points?c.value=`포인트는 최대 ${r.points}까지 입력할 수 있습니다.`:(c.value="",await V.postRequest(e.value,x),d(),h.push("/board/3"))}catch(s){console.error("Error creating request: ",s.message)}},d=()=>{e.value.title="",e.value.description="",e.value.points=""},S=async()=>{const s=localStorage.getItem("token");if(s)try{const t=await k.fetchUser(s);r.value=t}catch(t){console.error("Error fetching user:",t)}else console.error("No token found")},c=u("");return U(S),(s,t)=>{var v;const _=p("InputText"),b=p("Textarea"),m=p("Button");return f(),g("div",T,[o("div",E,[D,M,l(_,{id:"title",modelValue:e.value.title,"onUpdate:modelValue":t[0]||(t[0]=n=>e.value.title=n),required:"",autofocus:""},null,8,["modelValue"])]),o("div",j,[P,l(b,{modelValue:e.value.content,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.content=n),id:"content",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),o("div",$,[z,l(_,{type:"number",id:"points",min:"1",max:(v=r.value)==null?void 0:v.points,modelValue:e.value.points,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.points=n)},null,8,["max","modelValue"])]),o("div",A,[l(m,{label:"취소",icon:"pi pi-times",text:"",onClick:d}),l(m,{label:"저장",icon:"pi pi-check",text:"",onClick:q})]),c.value?(f(),g("p",G,B(c.value),1)):C("",!0)])}}},O=w(H,[["__scopeId","data-v-6acf13e7"]]);export{O as default};
