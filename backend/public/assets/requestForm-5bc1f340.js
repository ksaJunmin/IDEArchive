import{R as b}from"./RequestService-ef44c8cd.js";import{U as y}from"./UserService-8e182d1f.js";import{_ as I,r as u,u as w,o as R,a as p,b as v,c as f,e as o,d as l,t as U,j as B,p as C,h as F}from"./index-e760f1a3.js";const i=r=>(C("data-v-20509935"),r=r(),F(),r),N={class:"p-fluid"},T={class:"p-field p-grid"},E=i(()=>o("h2",null,[o("strong",null,"의뢰 작성")],-1)),D=i(()=>o("label",{for:"title"},"제목",-1)),M={class:"p-field p-grid"},j=i(()=>o("label",{for:"content"},"내용",-1)),P={class:"p-field p-grid"},$=i(()=>o("label",{for:"points"},"포인트",-1)),z={class:"button-group"},A={key:0},G={__name:"requestForm",setup(r){const a=u(null),g=w(),h=localStorage.getItem("token"),x=new b,V=new y,e=u({title:"",content:"",points:""}),k=async()=>{try{e.points>a.points?c.value=`포인트는 최대 ${a.points}까지 입력할 수 있습니다.`:(c.value="",await x.postRequest(e.value,h),d(),g.push("/board/3"))}catch(s){console.error("Error creating request: ",s.message)}},d=()=>{e.value.title="",e.value.description="",e.value.points=""},q=async()=>{const s=localStorage.getItem("token");if(s)try{const t=await V.fetchUser(s);a.value=t}catch(t){console.error("Error fetching user:",t)}else console.error("No token found")},c=u("");return R(q),(s,t)=>{const _=p("InputText"),S=p("Textarea"),m=p("Button");return v(),f("div",N,[o("div",T,[E,D,l(_,{id:"title",modelValue:e.value.title,"onUpdate:modelValue":t[0]||(t[0]=n=>e.value.title=n),required:"",autofocus:""},null,8,["modelValue"])]),o("div",M,[j,l(S,{modelValue:e.value.content,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.content=n),id:"content",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),o("div",P,[$,l(_,{type:"number",id:"points",min:"1",max:a.value.points,modelValue:e.value.points,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.points=n)},null,8,["max","modelValue"])]),o("div",z,[l(m,{label:"취소",icon:"pi pi-times",text:"",onClick:d}),l(m,{label:"저장",icon:"pi pi-check",text:"",onClick:k})]),c.value?(v(),f("p",A,U(c.value),1)):B("",!0)])}}},L=I(G,[["__scopeId","data-v-20509935"]]);export{L as default};
