import{i as I,u as P,r,a as u,b as g,c as y,d as e,m as F,e as a,F as h,g as T,t as C,_ as D,p as H,l as R}from"./index-da427a9f.js";import{P as U}from"./PostService-ed0c0efd.js";const _=l=>(H("data-v-e757ae72"),l=l(),R(),l),q={class:"grid justify-content-center"},N={class:"col-12 md:col-10"},j=_(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),E={class:"field"},L=_(()=>e("label",{for:"title"},"제목",-1)),M={class:"field"},$=_(()=>e("label",{for:"body"},"본문",-1)),z={class:"field"},A=_(()=>e("label",{class:"mb-3"},"분류",-1)),G={class:"formgrid grid"},J=["for"],K={class:"button-group"},O={__name:"addHowto",setup(l){const b=new U,w=P(),n=r(""),d=r(""),c=r(""),p=r(null),V=["수학","정보","물리","화학","생물","지구과학","인문","기타"],x=async()=>{const i={title:n.value,content:d.value,category:c.value};try{const t=localStorage.getItem("token"),o=new FormData;o.append("title",i.title),o.append("content",i.content),o.append("category",i.category),p.value&&o.append("file",p.value),await b.addPost(o,t),alert("Post added successfully!"),v(),w.push("/howto")}catch(t){console.error(t),alert("Failed to add post")}},v=()=>{n.value="",d.value="",c.value="",p.value=null};return(i,t)=>{const o=u("InputText"),S=u("Textarea"),k=u("RadioButton"),f=u("Button");return g(),y(h,null,[e("div",q,[e("div",N,[e("div",null,[j,e("form",{onSubmit:F(x,["prevent"])},[e("div",E,[L,a(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",M,[$,a(S,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),id:"body",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",z,[A,e("div",G,[(g(),y(h,null,T(V,(s,m)=>e("div",{class:"field-radiobutton col-6",key:m},[a(k,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=B=>c.value=B),id:"category"+m,name:"category",value:s},null,8,["modelValue","id","value"]),e("label",{for:"category"+m},C(s),9,J)])),64))])]),e("div",K,[a(f,{label:"취소",icon:"pi pi-times",text:"",onClick:v}),a(f,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),a(D,{simple:""})],64)}}},X=I(O,[["__scopeId","data-v-e757ae72"]]);export{X as default};
