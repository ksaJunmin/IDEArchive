import{U as g}from"./UserService-595f47bb.js";import{_ as y,r as k,o as w,a as d,b as l,c as n,d as e,e as _,w as r,f as o,t,p as I,k as x}from"./index-67ebd75a.js";const B="/assets/profile.png";const u=c=>(I("data-v-f4089416"),c=c(),x(),c),S={class:"grid"},b={class:"col-12 md:col-3"},C=u(()=>e("div",{class:"flex align-items-center justify-content-between mb-0"},[e("h5",null,[e("strong",null,"나의 프로필")])],-1)),D=u(()=>e("img",{src:B,alt:"Image",style:{"max-width":"100%",height:"auto"}},null,-1)),M={class:"col-12 md:col-9"},N={class:"card p-fluid"},P=u(()=>e("h5",null,"기본정보",-1)),V={key:0},U={class:"field"},E={for:"name",class:"large-font"},L={class:"field"},R={for:"schoolID",class:"large-font"},j={class:"field"},q={for:"email",class:"large-font"},H={key:1},T={class:"col-12 md:col-12"},z={class:"card p-fluid"},A={class:"stats"},F={class:"col-12"},G={class:"card"},J={key:0},K={class:"grid"},O={class:"col"},Q={key:1},W={__name:"mypage",setup(c){const s=k(null),v=new g;return w(async()=>{const a=localStorage.getItem("token");if(a)try{const i=await v.fetchUser(a);s.value=i}catch(i){console.error("Error fetching user:",i)}else console.error("No token found")}),(a,i)=>{const h=d("Menu"),p=d("Card"),f=d("ProgressBar"),m=d("Button");return l(),n("div",S,[e("div",b,[_(p,null,{title:r(()=>[C,_(h,{id:"config_menu",ref:"menuRef",model:a.cardMenu,popup:!0},null,8,["model"])]),content:r(()=>[D]),_:1})]),e("div",M,[e("div",N,[P,s.value?(l(),n("div",V,[e("div",U,[e("label",E,[o("이름: "),e("strong",null,t(s.value.name),1)])]),e("div",L,[e("label",R,[o("학번: "),e("strong",null,t(s.value.schoolID),1)])]),e("div",j,[e("label",q,[o("이메일: "),e("strong",null,t(s.value.email),1)])])])):(l(),n("div",H," Loading... "))])]),e("div",T,[e("div",z,[e("div",A,[e("div",null,[o("'도와줘요'에 쓴 글 수: "),e("div",null,[e("strong",null,t(s.value.numHowto),1)])]),e("div",null,[o("'해줘요'에 쓴 글 수: "),e("div",null,[e("strong",null,t(s.value.numReq),1)])])])])]),e("div",F,[e("div",G,[s.value?(l(),n("div",J,[e("h5",null,[o("나의 포인트: "),e("strong",null,t(s.value.points),1),o(" point")]),e("div",K,[e("div",O,[_(f,{value:s.value.points/100,showValue:!1},null,8,["value"])])])])):(l(),n("div",Q," Loading... "))])]),_(m,{class:"center-aligned"},{default:r(()=>[o(" 로그아웃 ")]),_:1})])}}},$=y(W,[["__scopeId","data-v-f4089416"]]);export{$ as default};
