import{u as g,r as v,a as c,b as r,c as n,e as o,j as D,d,t as i,q as u}from"./index-d337c2e4.js";import{U as I}from"./UserService-c91e3644.js";const y={class:"grid"},b={class:"col-12 md:col-12"},x={class:"card p-fluid"},k=o("h5",null,"회원가입",-1),U={class:"field"},B=o("label",{for:"name"},"이름",-1),S={key:0,class:"p-error"},M={class:"field"},N=o("label",{for:"schoolID"},"학번",-1),R={key:0,class:"p-error"},C={class:"field"},P=o("label",{for:"email"},"이메일",-1),T={key:0,class:"p-error"},j={class:"field"},q=o("label",{for:"password"},"비밀번호",-1),E={key:0,class:"p-error"},F={key:0,class:"error-message"},G={__name:"signin",setup($){const p=new I,_=g(),s=v({name:"",schoolID:"",email:"",password:""}),e=v({name:"",schoolID:"",email:"",password:""}),f=()=>{let l=!0;return s.value.name===""?(e.value.name="이름을 입력하세요",l=!1):e.value.name="",s.value.schoolID.length!==6?(e.value.schoolID="학번은 6자리여야 합니다",l=!1):e.value.schoolID="",/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email)?e.value.email="":(e.value.email="유효한 이메일 주소를 입력하세요",l=!1),s.value.password.length<8?(e.value.password="비밀번호는 8자 이상이어야 합니다",l=!1):e.value.password="",l},h=async()=>{if(f())try{const l=s.value,a=await p.register(l);_.push("/"),alert("사용자 등록 성공: "+a)}catch(l){alert("사용자 등록 오류: "+l.message)}};return(l,a)=>{const m=c("InputText"),w=c("Password"),V=c("Button");return r(),n("div",y,[o("div",b,[o("div",x,[o("form",{onSubmit:D(h,["prevent"])},[k,o("div",U,[B,d(m,{id:"name",modelValue:s.value.name,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.name=t),type:"text"},null,8,["modelValue"]),e.value.name?(r(),n("small",S,i(e.value.name),1)):u("",!0)]),o("div",M,[N,d(m,{id:"schoolID",modelValue:s.value.schoolID,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.schoolID=t),type:"text"},null,8,["modelValue"]),e.value.schoolID?(r(),n("small",R,i(e.value.schoolID),1)):u("",!0)]),o("div",C,[P,d(m,{id:"email",modelValue:s.value.email,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.email=t),type:"text"},null,8,["modelValue"]),e.value.email?(r(),n("small",T,i(e.value.email),1)):u("",!0)]),o("div",j,[q,d(w,{modelValue:s.value.password,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.password=t),feedback:!1,variant:"filled",label:"비밀번호를 입력하세요"},null,8,["modelValue"]),e.value.password?(r(),n("small",E,i(e.value.password),1)):u("",!0)]),d(V,{label:"확인",class:"w-full p-3 text-xl",type:"submit"})],32),l.errorMessage?(r(),n("div",F,i(l.errorMessage),1)):u("",!0)])])])}}};export{G as default};
