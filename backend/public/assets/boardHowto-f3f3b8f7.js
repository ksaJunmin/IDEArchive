import{u as F,r,o as K,a as u,b as n,c as i,d as e,e as d,w as p,F as b,g as V,n as T,t as a,_ as $}from"./index-00f62c0d.js";import{P as U}from"./PostService-596491bd.js";import{_ as H}from"./MathRenderer-9d81b1a5.js";const I=e("h3",null,"도와줘요 게시판",-1),N={class:"grid"},z={class:"col-12"},A={class:"card"},E={class:"my-2"},M={class:"grid grid-nogutter"},R={class:"col-6 text-left"},q={class:"col-6 text-right"},G={class:"grid grid-nogutter"},J=["onClick"],Q={class:"flex flex-column justify-content-between flex-1"},W={class:"flex flex-row justify-content-between align-items-start gap-2"},X={class:"min-w-0"},Y={class:"text-lg font-medium text-900 mt-2 ellipsis"},Z={class:"font-medium text-secondary text-sm ellipsis"},ee={class:"font-medium text-secondary text-sm ellipsis"},te={class:"surface-100 p-1",style:{"border-radius":"30px"}},se={class:"surface-0 flex align-items-center gap-2 justify-content-center py-1 px-2",style:{"border-radius":"30px","box-shadow":"0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 1px 2px 0px rgba(0, 0, 0, 0.06)"}},oe={class:"text-900 font-medium text-sm"},le=e("i",{class:"pi pi-thumbs-up"},null,-1),ae={class:"flex flex-row justify-content-between align-items-start mt-4"},ne={class:"text-sm text-gray-500"},ie={key:0},de={key:1},ce={class:"grid grid-nogutter"},re=["onClick"],ue={class:"flex flex-row justify-content-between align-items-start gap-2"},_e={class:"min-w-0"},pe={class:"text-lg font-medium text-900 mt-2 ellipsis"},ve={class:"font-medium text-secondary text-sm ellipsis"},xe={class:"surface-100 p-1",style:{"border-radius":"30px"}},me={class:"surface-0 flex align-items-center gap-2 justify-content-center py-1 px-2",style:{"border-radius":"30px","box-shadow":"0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 1px 2px 0px rgba(0, 0, 0, 0.06)"}},he={class:"text-900 font-medium text-sm"},be=e("i",{class:"pi pi-thumbs-up"},null,-1),fe={class:"flex flex-row justify-content-between align-items-start mt-4"},ge={class:"text-sm text-gray-500"},ye={key:0},we={key:1},Ce={__name:"boardHowto",setup(ke){const f=F(),_=r(null),v=r("list"),x=r(-1),m=r("date"),j=r([{label:"최신순",value:"!date"},{label:"오래된 순",value:"date"},{label:"추천 높은 순",value:"!like"},{label:"추천 낮은 순",value:"like"}]),S=r([{label:"전체",value:"전체"},{label:"수학",value:"수학"},{label:"화학",value:"화학"},{label:"정보",value:"정보"},{label:"생물",value:"생물"},{label:"물리",value:"물리"},{label:"지구과학",value:"지구과학"},{label:"인문",value:"인문"},{label:"기타",value:"기타"}]),g=new U;K(()=>{g.getPosts().then(o=>{_.value=o})});const C=o=>{const s=o.value.value,c=o.value;s.indexOf("!")===0?(x.value=-1,m.value=s.substring(1,s.length),sortKey.value=c):(x.value=1,m.value=s,sortKey.value=c)},D=o=>{const s=o.value.value;g.getPosts().then(c=>{s==="전체"?_.value=c:_.value=c.filter(h=>h.category===s)})},y=o=>{f.push("/howto/"+o)},L=()=>{f.push("/howto/add")};return(o,s)=>{const c=u("Button"),h=u("Toolbar"),w=u("Dropdown"),O=u("DataViewLayoutOptions"),P=u("DataView");return n(),i(b,null,[I,e("div",N,[e("div",z,[e("div",A,[d(h,{class:"mb-4"},{start:p(()=>[e("div",E,[d(c,{label:"글쓰기",icon:"pi pi-plus",class:"mr-2",severity:"success",onClick:L})])]),_:1}),d(P,{value:_.value,layout:v.value,paginator:!0,rows:9,sortOrder:x.value,sortField:m.value},{header:p(()=>[e("div",M,[e("div",R,[d(w,{modelValue:o.sortKey,"onUpdate:modelValue":s[0]||(s[0]=l=>o.sortKey=l),options:j.value,optionLabel:"label",placeholder:"최신순",onChange:s[1]||(s[1]=l=>C(l))},null,8,["modelValue","options"]),d(w,{modelValue:o.selectedSubject,"onUpdate:modelValue":s[2]||(s[2]=l=>o.selectedSubject=l),options:S.value,optionLabel:"label",placeholder:"전체",onChange:s[3]||(s[3]=l=>D(l))},null,8,["modelValue","options"])]),e("div",q,[d(O,{modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=l=>v.value=l)},null,8,["modelValue"])])])]),list:p(l=>[e("div",G,[(n(!0),i(b,null,V(l.items,(t,k)=>(n(),i("div",{key:t._id,class:"col-12"},[e("div",{class:T(["flex flex-column p-4 gap-3 cursor-pointer",{"border-top-1 surface-border":k!==0}]),onClick:B=>y(t._id)},[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,a(t.title),1),e("div",Z,a(t.content1),1),e("div",ee,[d(H,{content:t.content2},null,8,["content"])])]),e("div",te,[e("div",se,[e("div",oe,a(t.like),1),le])])]),e("div",ae,[e("div",ne,a(new Date(t.date).toLocaleString()),1),t.author?(n(),i("div",ie,a(t.author.schoolID)+" "+a(t.author.name),1)):(n(),i("div",de," 옛날 글 "))])])],10,J)]))),128))])]),grid:p(l=>[e("div",ce,[(n(!0),i(b,null,V(l.items,(t,k)=>(n(),i("div",{key:o._id,class:"col-12 sm:col-6 md:col-4 p-2"},[e("div",{class:"p-4 border-1 surface-border surface-card border-round flex flex-column cursor-pointer",onClick:B=>y(t._id)},[e("div",null,[e("div",ue,[e("div",_e,[e("div",pe,a(t.title),1),e("div",ve,a(t.content),1)]),e("div",null,[e("div",xe,[e("div",me,[e("div",he,a(t.like),1),be])])])]),e("div",fe,[e("div",ge,a(new Date(t.date).toLocaleString()),1),t.author?(n(),i("div",ye,a(t.author.schoolID)+" "+a(t.author.name),1)):(n(),i("div",we," 옛날 글 "))])])],8,re)]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])]),d($,{simple:""})],64)}}};export{Ce as default};
