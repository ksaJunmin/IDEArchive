import{i as F,u as P,r as i,a as m,b as v,c as g,d as e,m as T,e as s,k as U,F as I,g as D,t as H,_ as N,p as R,l as q}from"./index-00f62c0d.js";import{P as E}from"./PostService-596491bd.js";import{_ as L}from"./MathRenderer-9d81b1a5.js";const a=u=>(R("data-v-2f5e678a"),u=u(),q(),u),$={class:"grid justify-content-center"},j={class:"col-12 md:col-10"},M=a(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),X={class:"field"},z=a(()=>e("label",{for:"title"},"제목",-1)),A={class:"field"},G=a(()=>e("label",{for:"body"},"본문",-1)),J={class:"field"},K=a(()=>e("label",{for:"body"},"수식(LaTeX)",-1)),O={key:0},Q=a(()=>e("h3",null,"미리보기:",-1)),W={class:"field"},Y=a(()=>e("label",{class:"mb-3"},"분류",-1)),Z={class:"formgrid grid"},ee=["for"],te={class:"button-group"},oe={__name:"addHowto",setup(u){const w=new E,k=P(),r=i(""),p=i(""),n=i(""),_=i(""),x=["수학","정보","물리","화학","생물","지구과학","인문","기타"],h=i(""),B=t=>{h.value=t.target.files[0]},S=async()=>{const t=new FormData;t.append("title",r.value),t.append("content1",p.value),t.append("content2",n.value),t.append("category",_.value),t.append("file",h.value);const d=document.getElementById("fileInput").files[0].name;console.log(d),t.append("filename",d);try{const c=localStorage.getItem("token");await w.addPost(t,c),alert("Post added successfully!"),y(),k.push("/howto")}catch(c){console.error(c),alert("Failed to add post")}},y=()=>{r.value="",p.value="",n.value="",_.value=""};return(t,o)=>{const b=m("InputText"),d=m("Textarea"),c=m("RadioButton"),V=m("Button");return v(),g(I,null,[e("div",$,[e("div",j,[e("div",null,[M,e("form",{onSubmit:T(S,["prevent"])},[e("div",X,[z,s(b,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=l=>r.value=l),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",A,[G,s(d,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=l=>p.value=l),id:"content1",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",J,[K,s(d,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=l=>n.value=l),id:"content2",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),n.value?(v(),g("div",O,[Q,s(L,{content:n.value},null,8,["content"])])):U("",!0),e("div",W,[Y,e("div",Z,[(v(),g(I,null,D(x,(l,f)=>e("div",{class:"field-radiobutton col-6",key:f},[s(c,{modelValue:_.value,"onUpdate:modelValue":o[3]||(o[3]=C=>_.value=C),id:"category"+f,name:"category",value:l},null,8,["modelValue","id","value"]),e("label",{for:"category"+f},H(l),9,ee)])),64))])]),e("div",null,[e("input",{type:"file",id:"fileInput",onChange:B},null,32)]),e("div",te,[s(V,{label:"취소",icon:"pi pi-times",text:"",onClick:y}),s(V,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),s(N,{simple:""})],64)}}},ae=F(oe,[["__scopeId","data-v-2f5e678a"]]);export{ae as default};
