import{_ as I,u as x,r,a as u,b,c as g,e,k as P,d as a,F as y,g as C,t as T,i as U,p as D,h as R}from"./index-aea6fc2e.js";import{P as q}from"./PostService-b603d0bc.js";const p=n=>(D("data-v-2fdea9b2"),n=n(),R(),n),N={class:"grid justify-content-center"},j={class:"col-12 md:col-10"},E=p(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),L={class:"field"},M=p(()=>e("label",{for:"title"},"제목",-1)),$={class:"field"},z=p(()=>e("label",{for:"body"},"본문",-1)),A={class:"field"},G=p(()=>e("label",{class:"mb-3"},"분류",-1)),H={class:"formgrid grid"},J=["for"],K={class:"button-group"},O={__name:"addpost",setup(n){const h=new q,V=x(),d=r(""),c=r(""),i=r(""),_=r(null),k=["수학","정보","물리","화학","생물","지구과학","인문","기타"],S=async()=>{const l={title:d.value,content:c.value,category:i.value};try{const t=localStorage.getItem("token"),s=new FormData;s.append("title",l.title),s.append("content",l.content),s.append("category",l.category),_.value&&s.append("file",_.value),await h.addPost(s,t),alert("Post added successfully!"),v(),V.push("/board/1")}catch(t){console.error(t),alert("Failed to add post")}},v=()=>{d.value="",c.value="",i.value="",_.value=null};return(l,t)=>{const s=u("InputText"),w=u("Textarea"),B=u("RadioButton"),f=u("Button");return b(),g(y,null,[e("div",N,[e("div",j,[e("div",null,[E,e("form",{onSubmit:P(S,["prevent"])},[e("div",L,[M,a(s,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",$,[z,a(w,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=o=>c.value=o),id:"body",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",A,[G,e("div",H,[(b(),g(y,null,C(k,(o,m)=>e("div",{class:"field-radiobutton col-6",key:m},[a(B,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=F=>i.value=F),id:"category"+m,name:"category",value:o},null,8,["modelValue","id","value"]),e("label",{for:"category"+m},T(o),9,J)])),64))])]),e("button",{onClick:t[3]||(t[3]=(...o)=>l.uploadFile&&l.uploadFile(...o))},"Upload"),e("div",K,[a(f,{label:"취소",icon:"pi pi-times",text:"",onClick:v}),a(f,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),a(U,{simple:""})],64)}}},X=I(O,[["__scopeId","data-v-2fdea9b2"]]);export{X as default};
