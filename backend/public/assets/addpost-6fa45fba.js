import{_ as I,u as P,r,a as u,b,c as g,e,k as F,d as a,F as y,g as T,t as C,i as D,p as R,h as U}from"./index-ee568d84.js";import{P as q}from"./PostService-c46c4349.js";const p=l=>(R("data-v-9dbe0eba"),l=l(),U(),l),N={class:"grid justify-content-center"},j={class:"col-12 md:col-10"},E=p(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),L={class:"field"},M=p(()=>e("label",{for:"title"},"제목",-1)),$={class:"field"},z=p(()=>e("label",{for:"body"},"본문",-1)),A={class:"field"},G=p(()=>e("label",{class:"mb-3"},"분류",-1)),H={class:"formgrid grid"},J=["for"],K={class:"button-group"},O={__name:"addpost",setup(l){const h=new q,V=P(),n=r(""),d=r(""),c=r(""),_=r(null),k=["수학","정보","물리","화학","생물","지구과학","인문","기타"],x=async()=>{const i={title:n.value,content:d.value,category:c.value};try{const t=localStorage.getItem("token"),o=new FormData;o.append("title",i.title),o.append("content",i.content),o.append("category",i.category),_.value&&o.append("file",_.value),await h.addPost(o,t),alert("Post added successfully!"),v(),V.push("/board/1")}catch(t){console.error(t),alert("Failed to add post")}},v=()=>{n.value="",d.value="",c.value="",_.value=null};return(i,t)=>{const o=u("InputText"),S=u("Textarea"),w=u("RadioButton"),f=u("Button");return b(),g(y,null,[e("div",N,[e("div",j,[e("div",null,[E,e("form",{onSubmit:F(x,["prevent"])},[e("div",L,[M,a(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",$,[z,a(S,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),id:"body",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",A,[G,e("div",H,[(b(),g(y,null,T(k,(s,m)=>e("div",{class:"field-radiobutton col-6",key:m},[a(w,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=B=>c.value=B),id:"category"+m,name:"category",value:s},null,8,["modelValue","id","value"]),e("label",{for:"category"+m},C(s),9,J)])),64))])]),e("div",K,[a(f,{label:"취소",icon:"pi pi-times",text:"",onClick:v}),a(f,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),a(D,{simple:""})],64)}}},X=I(O,[["__scopeId","data-v-9dbe0eba"]]);export{X as default};
