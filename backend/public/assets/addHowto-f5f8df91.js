import{_ as P,u as T,r as d,a as c,b as m,c as f,d as e,l as U,e as n,j as D,F as y,g as E,t as H,p as N,k as R}from"./index-67ebd75a.js";import{P as j}from"./PostService-52ebfd3a.js";import{_ as q}from"./MathRenderer-e0c8bab5.js";const a=i=>(N("data-v-bb37f1e9"),i=i(),R(),i),A={class:"grid justify-content-center"},L={class:"col-12 md:col-10"},M=a(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),X={class:"field"},$=a(()=>e("label",{for:"title"},"제목",-1)),z={class:"field"},G=a(()=>e("label",{for:"body"},"본문",-1)),J={class:"field"},K=a(()=>e("label",{for:"body"},"수식(LaTeX)",-1)),O={key:0},Q=a(()=>e("h3",null,"미리보기:",-1)),W={class:"field"},Y=a(()=>e("label",{class:"mb-3"},"분류",-1)),Z={class:"formgrid grid"},ee=["for"],te={class:"button-group"},oe={__name:"addHowto",setup(i){const V=new j,I=T(),u=d(""),r=d(""),s=d(""),p=d(""),w=["수학","정보","물리","화학","생물","지구과학","인문","기타"],v=d(""),k=o=>{o.target.files&&(v.value=o.target.files[0])},B=async()=>{const o=new FormData;if(o.append("title",u.value),o.append("content1",r.value),o.append("content2",s.value),o.append("category",p.value),o.append("file",v.value),document.getElementById("fileInput").files[0]){const t=document.getElementById("fileInput").files[0].name;console.log(t),o.append("filename",t)}try{const t=localStorage.getItem("token");await V.addPost(o,t),alert("Post added successfully!"),g(),I.push("/howto")}catch(t){console.error(t),alert("Failed to add post")}},g=()=>{u.value="",r.value="",s.value="",p.value=""};return(o,t)=>{const x=c("InputText"),b=c("Textarea"),C=c("RadioButton"),h=c("Button"),S=c("AppConfig");return m(),f(y,null,[e("div",A,[e("div",L,[e("div",null,[M,e("form",{onSubmit:U(B,["prevent"])},[e("div",X,[$,n(x,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",z,[G,n(b,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),id:"content1",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",J,[K,n(b,{modelValue:s.value,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value=l),id:"content2",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),s.value?(m(),f("div",O,[Q,n(q,{content:s.value},null,8,["content"])])):D("",!0),e("div",W,[Y,e("div",Z,[(m(),f(y,null,E(w,(l,_)=>e("div",{class:"field-radiobutton col-6",key:_},[n(C,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=F=>p.value=F),id:"category"+_,name:"category",value:l},null,8,["modelValue","id","value"]),e("label",{for:"category"+_},H(l),9,ee)])),64))])]),e("div",null,[e("input",{type:"file",id:"fileInput",onChange:k},null,32)]),e("div",te,[n(h,{label:"취소",icon:"pi pi-times",text:"",onClick:g}),n(h,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),n(S,{simple:""})],64)}}},ae=P(oe,[["__scopeId","data-v-bb37f1e9"]]);export{ae as default};
