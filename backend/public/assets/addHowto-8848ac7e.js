import{i as I,u as C,r,a as u,b as f,c as g,d as e,m as P,e as l,F as h,g as T,t as q,_ as D,p as H,l as R}from"./index-5df0bcb7.js";import{P as U}from"./PostService-8d1a3c6c.js";const a=n=>(H("data-v-8c255064"),n=n(),R(),n),N={class:"grid justify-content-center"},j={class:"col-12 md:col-10"},E=a(()=>e("h2",null,[e("strong",null,"새 글 작성")],-1)),L={class:"field"},M=a(()=>e("label",{for:"title"},"제목",-1)),$={class:"field"},z=a(()=>e("label",{for:"body"},"본문",-1)),A={class:"field"},G=a(()=>e("label",{class:"mb-3"},"분류",-1)),J={class:"formgrid grid"},K=["for"],O=a(()=>e("label",{for:"file"},"File",-1)),Q={class:"button-group"},W={__name:"addHowto",setup(n){const y=new U,b=C(),d=r(""),c=r(""),i=r(""),V=["수학","정보","물리","화학","생물","지구과학","인문","기타"],p=r(""),w=o=>{p.value=o.target.files[0]},x=async()=>{const o=new FormData;o.append("title",d.value),o.append("content",c.value),o.append("category",i.value),o.append("islatex",!1),o.append("file",p.value);try{const t=localStorage.getItem("token");await y.addPost(o,t),alert("Post added successfully!"),m(),b.push("/howto")}catch(t){console.error(t),alert("Failed to add post")}},m=()=>{d.value="",c.value="",i.value=""};return(o,t)=>{const S=u("InputText"),k=u("Textarea"),B=u("RadioButton"),v=u("Button");return f(),g(h,null,[e("div",N,[e("div",j,[e("div",null,[E,e("form",{onSubmit:P(x,["prevent"])},[e("div",L,[M,l(S,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),id:"title",required:"",autofocus:""},null,8,["modelValue"])]),e("div",$,[z,l(k,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),id:"body",required:"",rows:"12",cols:"120",class:"full"},null,8,["modelValue"])]),e("div",A,[G,e("div",J,[(f(),g(h,null,T(V,(s,_)=>e("div",{class:"field-radiobutton col-6",key:_},[l(B,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=F=>i.value=F),id:"category"+_,name:"category",value:s},null,8,["modelValue","id","value"]),e("label",{for:"category"+_},q(s),9,K)])),64))])]),e("div",null,[O,e("input",{type:"file",onChange:w,required:""},null,32)]),e("div",Q,[l(v,{label:"취소",icon:"pi pi-times",text:"",onClick:m}),l(v,{label:"저장",icon:"pi pi-check",text:"",type:"submit"})])],32)])])]),l(D,{simple:""})],64)}}},Z=I(W,[["__scopeId","data-v-8c255064"]]);export{Z as default};
